<script>
    const products = [
        {name : '반팔티', price : 15000},
        {name : '긴팔티', price : 20000},
        {name : '핸드폰케이스', price : 15000},
        {name : '후드티', price : 30000},
        {name : '바지', price : 25000}
    ];
</script>

# map

<script>
    const map = (f, iter) => {
        let res = [];
        for(const a of iter){
            res.push(f(a));
        }
        return res
    };

    // let names = [];
    // for(const p of products){
    //     names.push(p.name);
    // }
    // console.log(names);
    console.log(map(p => p.name, products));

    // let prices = [];
    // for(const p of products){
    //     prices.push(p.price);
    // }
    // console.log(prices);
    console.log(map(p => p.price, products));
</script>

# 이터러블 프로토콜을 따른 Map의 다형성

<script>
    console.log([1,2,3].map(a => a + 1));

    console.log(map(el => el.nodeName, document.querySelectorAll('*')))

    // const it = document.querySelectorAll('*')[Symbol.iterator]();
    // console.log(it.next());
    // console.log(it.next());
    // console.log(it.next());
    // console.log(it.next());
    // console.log(it.next());

    const str = 'str';
    const strIter = str[Symbol.iterator]();
    console.log(strIter[Symbol.iterator]() === strIter);
    console.log(map(s => s, str));

    function* gen(){
        yield 2;
        if (false) yield 3;
        yield 4;
    }
    console.log(map(a => a * a, gen()));

    let m = new Map();
    m.set('a', 10);
    m.set('b', 20);
    // const it = m[Symbol.iterator]();
    console.log(new Map(map(([k,a]) => [k, a * 2], m)));
</script>